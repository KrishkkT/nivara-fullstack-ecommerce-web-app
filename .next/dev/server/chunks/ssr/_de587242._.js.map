{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///V:/Github/nivara-fullstack-ecommerce-web-app/lib/db.ts"],"sourcesContent":["import { neon } from \"@neondatabase/serverless\"\n\n// Lazy initialization - only check for DATABASE_URL when it's actually used\nexport const sql = ((...args: any[]) => {\n  if (!process.env.DATABASE_URL) {\n    throw new Error(\"DATABASE_URL environment variable is not set\")\n  }\n  \n  const sqlInstance = neon(process.env.DATABASE_URL)\n  // @ts-ignore\n  return sqlInstance(...args)\n}) as ReturnType<typeof neon>"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,MAAO,CAAC,GAAG;IACtB,IAAI,CAAC,QAAQ,GAAG,CAAC,YAAY,EAAE;QAC7B,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,cAAc,IAAA,8JAAI,EAAC,QAAQ,GAAG,CAAC,YAAY;IACjD,aAAa;IACb,OAAO,eAAe;AACxB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///V:/Github/nivara-fullstack-ecommerce-web-app/app/actions/cart.ts"],"sourcesContent":["\"use server\"\n\nimport { sql } from \"@/lib/db\"\nimport { getSession } from \"@/lib/session\"\nimport { revalidatePath } from \"next/cache\"\n\nexport async function addToCart(productId: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return { error: \"Please sign in to add items to cart\" }\n    }\n\n    // Check if item already in cart\n    const existing = await sql`\n      SELECT * FROM cart_items\n      WHERE user_id = ${session.userId} AND product_id = ${productId}\n    `\n\n    if (existing.length > 0) {\n      // Update quantity\n      await sql`\n        UPDATE cart_items\n        SET quantity = quantity + 1\n        WHERE user_id = ${session.userId} AND product_id = ${productId}\n      `\n    } else {\n      // Insert new item\n      await sql`\n        INSERT INTO cart_items (user_id, product_id, quantity)\n        VALUES (${session.userId}, ${productId}, 1)\n      `\n    }\n\n    revalidatePath(\"/cart\")\n    return { success: true }\n  } catch (error) {\n    console.error(\"[v0] Add to cart error:\", error)\n    return { error: \"Failed to add item to cart\" }\n  }\n}\n\nexport async function updateCartQuantity(cartItemId: number, quantity: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return { error: \"Please sign in\" }\n    }\n\n    await sql`\n      UPDATE cart_items\n      SET quantity = ${quantity}\n      WHERE id = ${cartItemId} AND user_id = ${session.userId}\n    `\n\n    revalidatePath(\"/cart\")\n    return { success: true }\n  } catch (error) {\n    console.error(\"[v0] Update cart error:\", error)\n    return { error: \"Failed to update cart\" }\n  }\n}\n\nexport async function removeFromCart(cartItemId: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return { error: \"Please sign in\" }\n    }\n\n    await sql`\n      DELETE FROM cart_items\n      WHERE id = ${cartItemId} AND user_id = ${session.userId}\n    `\n\n    revalidatePath(\"/cart\")\n    return { success: true }\n  } catch (error) {\n    console.error(\"[v0] Remove from cart error:\", error)\n    return { error: \"Failed to remove item\" }\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AACA;;;;;;AAEO,eAAe,UAAU,SAAiB;IAC/C,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,4HAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,OAAO;YAAsC;QACxD;QAEA,gCAAgC;QAChC,MAAM,WAAW,MAAM,gHAAG,CAAC;;sBAET,EAAE,QAAQ,MAAM,CAAC,kBAAkB,EAAE,UAAU;IACjE,CAAC;QAED,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,kBAAkB;YAClB,MAAM,gHAAG,CAAC;;;wBAGQ,EAAE,QAAQ,MAAM,CAAC,kBAAkB,EAAE,UAAU;MACjE,CAAC;QACH,OAAO;YACL,kBAAkB;YAClB,MAAM,gHAAG,CAAC;;gBAEA,EAAE,QAAQ,MAAM,CAAC,EAAE,EAAE,UAAU;MACzC,CAAC;QACH;QAEA,IAAA,+IAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;YAAE,OAAO;QAA6B;IAC/C;AACF;AAEO,eAAe,mBAAmB,UAAkB,EAAE,QAAgB;IAC3E,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,4HAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,OAAO;YAAiB;QACnC;QAEA,MAAM,gHAAG,CAAC;;qBAEO,EAAE,SAAS;iBACf,EAAE,WAAW,eAAe,EAAE,QAAQ,MAAM,CAAC;IAC1D,CAAC;QAED,IAAA,+IAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;YAAE,OAAO;QAAwB;IAC1C;AACF;AAEO,eAAe,eAAe,UAAkB;IACrD,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,4HAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,OAAO;YAAiB;QACnC;QAEA,MAAM,gHAAG,CAAC;;iBAEG,EAAE,WAAW,eAAe,EAAE,QAAQ,MAAM,CAAC;IAC1D,CAAC;QAED,IAAA,+IAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO;YAAE,OAAO;QAAwB;IAC1C;AACF;;;IA9EsB;IAqCA;IAsBA;;AA3DA,+OAAA;AAqCA,+OAAA;AAsBA,+OAAA"}},
    {"offset": {"line": 137, "column": 0}, "map": {"version":3,"sources":["file:///V:/Github/nivara-fullstack-ecommerce-web-app/app/actions/wishlist.ts"],"sourcesContent":["\"use server\"\n\nimport { sql } from \"@/lib/db\"\nimport { getSession } from \"@/lib/session\"\nimport { revalidatePath } from \"next/cache\"\n\nexport async function addToWishlist(productId: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return { error: \"Please sign in to add items to wishlist\" }\n    }\n\n    // Check if already in wishlist\n    const existing = await sql`\n      SELECT * FROM wishlist\n      WHERE user_id = ${session.userId} AND product_id = ${productId}\n    `\n\n    if (existing.length > 0) {\n      return { error: \"Item already in wishlist\" }\n    }\n\n    await sql`\n      INSERT INTO wishlist (user_id, product_id)\n      VALUES (${session.userId}, ${productId})\n    `\n\n    revalidatePath(\"/wishlist\")\n    return { success: true }\n  } catch (error) {\n    console.error(\"[v0] Add to wishlist error:\", error)\n    return { error: \"Failed to add item to wishlist\" }\n  }\n}\n\nexport async function removeFromWishlist(productId: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return { error: \"Please sign in\" }\n    }\n\n    await sql`\n      DELETE FROM wishlist\n      WHERE user_id = ${session.userId} AND product_id = ${productId}\n    `\n\n    revalidatePath(\"/wishlist\")\n    return { success: true }\n  } catch (error) {\n    console.error(\"[v0] Remove from wishlist error:\", error)\n    return { error: \"Failed to remove item\" }\n  }\n}\n\nexport async function moveToWishlist(cartItemId: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return { error: \"Please sign in\" }\n    }\n\n    // Get the cart item\n    const cartItem = await sql`\n      SELECT product_id FROM cart_items\n      WHERE id = ${cartItemId} AND user_id = ${session.userId}\n    `\n\n    if (cartItem.length === 0) {\n      return { error: \"Cart item not found\" }\n    }\n\n    const productId = cartItem[0].product_id\n\n    // Check if already in wishlist\n    const existing = await sql`\n      SELECT * FROM wishlist\n      WHERE user_id = ${session.userId} AND product_id = ${productId}\n    `\n\n    if (existing.length === 0) {\n      // Add to wishlist\n      await sql`\n        INSERT INTO wishlist (user_id, product_id)\n        VALUES (${session.userId}, ${productId})\n      `\n    }\n\n    // Remove from cart\n    await sql`\n      DELETE FROM cart_items\n      WHERE id = ${cartItemId} AND user_id = ${session.userId}\n    `\n\n    revalidatePath(\"/cart\")\n    revalidatePath(\"/wishlist\")\n    return { success: true }\n  } catch (error) {\n    console.error(\"[v0] Move to wishlist error:\", error)\n    return { error: \"Failed to move item to wishlist\" }\n  }\n}\n\nexport async function isInWishlist(productId: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return false\n    }\n\n    const result = await sql`\n      SELECT 1 FROM wishlist\n      WHERE user_id = ${session.userId} AND product_id = ${productId}\n    `\n\n    return result.length > 0\n  } catch (error) {\n    console.error(\"[v0] Check wishlist error:\", error)\n    return false\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AACA;;;;;;AAEO,eAAe,cAAc,SAAiB;IACnD,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,4HAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,OAAO;YAA0C;QAC5D;QAEA,+BAA+B;QAC/B,MAAM,WAAW,MAAM,gHAAG,CAAC;;sBAET,EAAE,QAAQ,MAAM,CAAC,kBAAkB,EAAE,UAAU;IACjE,CAAC;QAED,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,OAAO;gBAAE,OAAO;YAA2B;QAC7C;QAEA,MAAM,gHAAG,CAAC;;cAEA,EAAE,QAAQ,MAAM,CAAC,EAAE,EAAE,UAAU;IACzC,CAAC;QAED,IAAA,+IAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO;YAAE,OAAO;QAAiC;IACnD;AACF;AAEO,eAAe,mBAAmB,SAAiB;IACxD,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,4HAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,OAAO;YAAiB;QACnC;QAEA,MAAM,gHAAG,CAAC;;sBAEQ,EAAE,QAAQ,MAAM,CAAC,kBAAkB,EAAE,UAAU;IACjE,CAAC;QAED,IAAA,+IAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO;YAAE,OAAO;QAAwB;IAC1C;AACF;AAEO,eAAe,eAAe,UAAkB;IACrD,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,4HAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,OAAO;YAAiB;QACnC;QAEA,oBAAoB;QACpB,MAAM,WAAW,MAAM,gHAAG,CAAC;;iBAEd,EAAE,WAAW,eAAe,EAAE,QAAQ,MAAM,CAAC;IAC1D,CAAC;QAED,IAAI,SAAS,MAAM,KAAK,GAAG;YACzB,OAAO;gBAAE,OAAO;YAAsB;QACxC;QAEA,MAAM,YAAY,QAAQ,CAAC,EAAE,CAAC,UAAU;QAExC,+BAA+B;QAC/B,MAAM,WAAW,MAAM,gHAAG,CAAC;;sBAET,EAAE,QAAQ,MAAM,CAAC,kBAAkB,EAAE,UAAU;IACjE,CAAC;QAED,IAAI,SAAS,MAAM,KAAK,GAAG;YACzB,kBAAkB;YAClB,MAAM,gHAAG,CAAC;;gBAEA,EAAE,QAAQ,MAAM,CAAC,EAAE,EAAE,UAAU;MACzC,CAAC;QACH;QAEA,mBAAmB;QACnB,MAAM,gHAAG,CAAC;;iBAEG,EAAE,WAAW,eAAe,EAAE,QAAQ,MAAM,CAAC;IAC1D,CAAC;QAED,IAAA,+IAAc,EAAC;QACf,IAAA,+IAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO;YAAE,OAAO;QAAkC;IACpD;AACF;AAEO,eAAe,aAAa,SAAiB;IAClD,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,4HAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;QACT;QAEA,MAAM,SAAS,MAAM,gHAAG,CAAC;;sBAEP,EAAE,QAAQ,MAAM,CAAC,kBAAkB,EAAE,UAAU;IACjE,CAAC;QAED,OAAO,OAAO,MAAM,GAAG;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO;IACT;AACF;;;IAvHsB;IA+BA;IAqBA;IAiDA;;AArGA,+OAAA;AA+BA,+OAAA;AAqBA,+OAAA;AAiDA,+OAAA"}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///V:/Github/nivara-fullstack-ecommerce-web-app/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {addToCart as '408bb169f3f5228ae133249e1c8b55f3740bbfc343'} from 'ACTIONS_MODULE0'\nexport {addToWishlist as '40fc55e5a810e80ccdf1ab5ed5c72f269a031b3fe3'} from 'ACTIONS_MODULE1'\nexport {removeFromWishlist as '40c3db5bc59c4e162a81e9c82ce027f02851a6c841'} from 'ACTIONS_MODULE1'\nexport {isInWishlist as '40e8392135878353b89fba343a7892cc03f4ac9be8'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA"}}]
}