{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/krish/Downloads/nivara-e-commerce-website/components/checkout-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CheckoutForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call CheckoutForm() from the server but CheckoutForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Downloads/nivara-e-commerce-website/components/checkout-form.tsx <module evaluation>\",\n    \"CheckoutForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,2TAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,kGACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/krish/Downloads/nivara-e-commerce-website/components/checkout-form.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CheckoutForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call CheckoutForm() from the server but CheckoutForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Downloads/nivara-e-commerce-website/components/checkout-form.tsx\",\n    \"CheckoutForm\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,eAAe,IAAA,2TAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,8EACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/krish/Downloads/nivara-e-commerce-website/app/checkout/page.tsx"],"sourcesContent":["import { redirect } from \"next/navigation\"\nimport { getSession } from \"@/lib/session\"\nimport { sql } from \"@/lib/db\"\nimport { CheckoutForm } from \"@/components/checkout-form\"\n\nexport const metadata = {\n  title: \"Checkout | NIVARA\",\n  description: \"Complete your purchase\",\n}\n\nexport default async function CheckoutPage() {\n  const session = await getSession()\n\n  if (!session) {\n    redirect(\"/login\")\n  }\n\n  const cartItems = await sql`\n    SELECT \n      ci.*,\n      p.name,\n      p.price,\n      p.image_url\n    FROM cart_items ci\n    JOIN products p ON ci.product_id = p.id\n    WHERE ci.user_id = ${session.userId}\n  `\n\n  if (cartItems.length === 0) {\n    redirect(\"/cart\")\n  }\n\n  const user = await sql`\n    SELECT * FROM users WHERE id = ${session.userId}\n  `\n\n  const addresses = await sql`\n    SELECT * FROM addresses WHERE user_id = ${session.userId}\n    ORDER BY is_default DESC, created_at DESC\n  `\n\n  const total = cartItems.reduce((sum: number, item: any) => {\n    return sum + Number.parseFloat(item.price) * item.quantity\n  }, 0)\n\n  return (\n    <div className=\"container px-4 py-12\">\n      <h1 className=\"text-4xl font-serif tracking-tight mb-8\">Checkout</h1>\n\n      <div className=\"grid lg:grid-cols-3 gap-8\">\n        <div className=\"lg:col-span-2\">\n          <CheckoutForm user={user[0]} addresses={addresses} cartItems={cartItems} total={total} />\n        </div>\n\n        <div className=\"lg:col-span-1\">\n          <div className=\"bg-card border rounded-lg p-6 space-y-4 sticky top-20\">\n            <h2 className=\"text-xl font-semibold\">Order Summary</h2>\n\n            <div className=\"space-y-3\">\n              {cartItems.map((item: any) => (\n                <div key={item.id} className=\"flex justify-between text-sm\">\n                  <span className=\"flex-1\">\n                    {item.name} <span className=\"text-muted-foreground\">× {item.quantity}</span>\n                  </span>\n                  <span>₹{(Number.parseFloat(item.price) * item.quantity).toFixed(2)}</span>\n                </div>\n              ))}\n            </div>\n\n            <div className=\"space-y-2 py-4 border-y\">\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">Subtotal</span>\n                <span>₹{total.toFixed(2)}</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">Shipping</span>\n                <span className=\"text-green-600\">FREE</span>\n              </div>\n            </div>\n\n            <div className=\"flex justify-between text-lg font-semibold\">\n              <span>Total</span>\n              <span>₹{total.toFixed(2)}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AACA;AACA;AACA;;;;;;AAEO,MAAM,WAAW;IACtB,OAAO;IACP,aAAa;AACf;AAEe,eAAe;IAC5B,MAAM,UAAU,MAAM,IAAA,+KAAU;IAEhC,IAAI,CAAC,SAAS;QACZ,IAAA,oPAAQ,EAAC;IACX;IAEA,MAAM,YAAY,MAAM,mKAAG,CAAC;;;;;;;;uBAQP,EAAE,QAAQ,MAAM,CAAC;EACtC,CAAC;IAED,IAAI,UAAU,MAAM,KAAK,GAAG;QAC1B,IAAA,oPAAQ,EAAC;IACX;IAEA,MAAM,OAAO,MAAM,mKAAG,CAAC;mCACU,EAAE,QAAQ,MAAM,CAAC;EAClD,CAAC;IAED,MAAM,YAAY,MAAM,mKAAG,CAAC;4CACc,EAAE,QAAQ,MAAM,CAAC;;EAE3D,CAAC;IAED,MAAM,QAAQ,UAAU,MAAM,CAAC,CAAC,KAAa;QAC3C,OAAO,MAAM,OAAO,UAAU,CAAC,KAAK,KAAK,IAAI,KAAK,QAAQ;IAC5D,GAAG;IAEH,qBACE,iSAAC;QAAI,WAAU;;0BACb,iSAAC;gBAAG,WAAU;0BAA0C;;;;;;0BAExD,iSAAC;gBAAI,WAAU;;kCACb,iSAAC;wBAAI,WAAU;kCACb,cAAA,iSAAC,kMAAY;4BAAC,MAAM,IAAI,CAAC,EAAE;4BAAE,WAAW;4BAAW,WAAW;4BAAW,OAAO;;;;;;;;;;;kCAGlF,iSAAC;wBAAI,WAAU;kCACb,cAAA,iSAAC;4BAAI,WAAU;;8CACb,iSAAC;oCAAG,WAAU;8CAAwB;;;;;;8CAEtC,iSAAC;oCAAI,WAAU;8CACZ,UAAU,GAAG,CAAC,CAAC,qBACd,iSAAC;4CAAkB,WAAU;;8DAC3B,iSAAC;oDAAK,WAAU;;wDACb,KAAK,IAAI;wDAAC;sEAAC,iSAAC;4DAAK,WAAU;;gEAAwB;gEAAG,KAAK,QAAQ;;;;;;;;;;;;;8DAEtE,iSAAC;;wDAAK;wDAAE,CAAC,OAAO,UAAU,CAAC,KAAK,KAAK,IAAI,KAAK,QAAQ,EAAE,OAAO,CAAC;;;;;;;;2CAJxD,KAAK,EAAE;;;;;;;;;;8CASrB,iSAAC;oCAAI,WAAU;;sDACb,iSAAC;4CAAI,WAAU;;8DACb,iSAAC;oDAAK,WAAU;8DAAwB;;;;;;8DACxC,iSAAC;;wDAAK;wDAAE,MAAM,OAAO,CAAC;;;;;;;;;;;;;sDAExB,iSAAC;4CAAI,WAAU;;8DACb,iSAAC;oDAAK,WAAU;8DAAwB;;;;;;8DACxC,iSAAC;oDAAK,WAAU;8DAAiB;;;;;;;;;;;;;;;;;;8CAIrC,iSAAC;oCAAI,WAAU;;sDACb,iSAAC;sDAAK;;;;;;sDACN,iSAAC;;gDAAK;gDAAE,MAAM,OAAO,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOpC"}}]
}