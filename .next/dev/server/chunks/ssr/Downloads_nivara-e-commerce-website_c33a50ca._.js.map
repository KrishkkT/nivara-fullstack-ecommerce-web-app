{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/krish/Downloads/nivara-e-commerce-website/lib/db.ts"],"sourcesContent":["import { neon } from \"@neondatabase/serverless\"\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\"DATABASE_URL environment variable is not set\")\n}\n\nexport const sql = neon(process.env.DATABASE_URL)\n"],"names":[],"mappings":";;;;AAAA;;AAEA,IAAI,CAAC,QAAQ,GAAG,CAAC,YAAY,EAAE;IAC7B,MAAM,IAAI,MAAM;AAClB;AAEO,MAAM,MAAM,IAAA,iNAAI,EAAC,QAAQ,GAAG,CAAC,YAAY"}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/krish/Downloads/nivara-e-commerce-website/app/actions/cart.ts"],"sourcesContent":["\"use server\"\n\nimport { sql } from \"@/lib/db\"\nimport { getSession } from \"@/lib/session\"\nimport { revalidatePath } from \"next/cache\"\n\nexport async function addToCart(productId: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return { error: \"Please sign in to add items to cart\" }\n    }\n\n    // Check if item already in cart\n    const existing = await sql`\n      SELECT * FROM cart_items\n      WHERE user_id = ${session.userId} AND product_id = ${productId}\n    `\n\n    if (existing.length > 0) {\n      // Update quantity\n      await sql`\n        UPDATE cart_items\n        SET quantity = quantity + 1\n        WHERE user_id = ${session.userId} AND product_id = ${productId}\n      `\n    } else {\n      // Insert new item\n      await sql`\n        INSERT INTO cart_items (user_id, product_id, quantity)\n        VALUES (${session.userId}, ${productId}, 1)\n      `\n    }\n\n    revalidatePath(\"/cart\")\n    return { success: true }\n  } catch (error) {\n    console.error(\"[v0] Add to cart error:\", error)\n    return { error: \"Failed to add item to cart\" }\n  }\n}\n\nexport async function updateCartQuantity(cartItemId: number, quantity: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return { error: \"Please sign in\" }\n    }\n\n    await sql`\n      UPDATE cart_items\n      SET quantity = ${quantity}\n      WHERE id = ${cartItemId} AND user_id = ${session.userId}\n    `\n\n    revalidatePath(\"/cart\")\n    return { success: true }\n  } catch (error) {\n    console.error(\"[v0] Update cart error:\", error)\n    return { error: \"Failed to update cart\" }\n  }\n}\n\nexport async function removeFromCart(cartItemId: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return { error: \"Please sign in\" }\n    }\n\n    await sql`\n      DELETE FROM cart_items\n      WHERE id = ${cartItemId} AND user_id = ${session.userId}\n    `\n\n    revalidatePath(\"/cart\")\n    return { success: true }\n  } catch (error) {\n    console.error(\"[v0] Remove from cart error:\", error)\n    return { error: \"Failed to remove item\" }\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AACA;;;;;;AAEO,eAAe,UAAU,SAAiB;IAC/C,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,+KAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,OAAO;YAAsC;QACxD;QAEA,gCAAgC;QAChC,MAAM,WAAW,MAAM,mKAAG,CAAC;;sBAET,EAAE,QAAQ,MAAM,CAAC,kBAAkB,EAAE,UAAU;IACjE,CAAC;QAED,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,kBAAkB;YAClB,MAAM,mKAAG,CAAC;;;wBAGQ,EAAE,QAAQ,MAAM,CAAC,kBAAkB,EAAE,UAAU;MACjE,CAAC;QACH,OAAO;YACL,kBAAkB;YAClB,MAAM,mKAAG,CAAC;;gBAEA,EAAE,QAAQ,MAAM,CAAC,EAAE,EAAE,UAAU;MACzC,CAAC;QACH;QAEA,IAAA,kMAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;YAAE,OAAO;QAA6B;IAC/C;AACF;AAEO,eAAe,mBAAmB,UAAkB,EAAE,QAAgB;IAC3E,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,+KAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,OAAO;YAAiB;QACnC;QAEA,MAAM,mKAAG,CAAC;;qBAEO,EAAE,SAAS;iBACf,EAAE,WAAW,eAAe,EAAE,QAAQ,MAAM,CAAC;IAC1D,CAAC;QAED,IAAA,kMAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO;YAAE,OAAO;QAAwB;IAC1C;AACF;AAEO,eAAe,eAAe,UAAkB;IACrD,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,+KAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,OAAO;YAAiB;QACnC;QAEA,MAAM,mKAAG,CAAC;;iBAEG,EAAE,WAAW,eAAe,EAAE,QAAQ,MAAM,CAAC;IAC1D,CAAC;QAED,IAAA,kMAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO;YAAE,OAAO;QAAwB;IAC1C;AACF;;;IA9EsB;IAqCA;IAsBA;;AA3DA,kSAAA;AAqCA,kSAAA;AAsBA,kSAAA"}},
    {"offset": {"line": 133, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/krish/Downloads/nivara-e-commerce-website/app/actions/wishlist.ts"],"sourcesContent":["\"use server\"\n\nimport { sql } from \"@/lib/db\"\nimport { getSession } from \"@/lib/session\"\nimport { revalidatePath } from \"next/cache\"\n\nexport async function addToWishlist(productId: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return { error: \"Please sign in to add items to wishlist\" }\n    }\n\n    // Check if already in wishlist\n    const existing = await sql`\n      SELECT * FROM wishlist\n      WHERE user_id = ${session.userId} AND product_id = ${productId}\n    `\n\n    if (existing.length > 0) {\n      return { error: \"Item already in wishlist\" }\n    }\n\n    await sql`\n      INSERT INTO wishlist (user_id, product_id)\n      VALUES (${session.userId}, ${productId})\n    `\n\n    revalidatePath(\"/wishlist\")\n    return { success: true }\n  } catch (error) {\n    console.error(\"[v0] Add to wishlist error:\", error)\n    return { error: \"Failed to add item to wishlist\" }\n  }\n}\n\nexport async function removeFromWishlist(productId: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return { error: \"Please sign in\" }\n    }\n\n    await sql`\n      DELETE FROM wishlist\n      WHERE user_id = ${session.userId} AND product_id = ${productId}\n    `\n\n    revalidatePath(\"/wishlist\")\n    return { success: true }\n  } catch (error) {\n    console.error(\"[v0] Remove from wishlist error:\", error)\n    return { error: \"Failed to remove item\" }\n  }\n}\n\nexport async function moveToWishlist(cartItemId: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return { error: \"Please sign in\" }\n    }\n\n    // Get the cart item\n    const cartItem = await sql`\n      SELECT product_id FROM cart_items\n      WHERE id = ${cartItemId} AND user_id = ${session.userId}\n    `\n\n    if (cartItem.length === 0) {\n      return { error: \"Cart item not found\" }\n    }\n\n    const productId = cartItem[0].product_id\n\n    // Check if already in wishlist\n    const existing = await sql`\n      SELECT * FROM wishlist\n      WHERE user_id = ${session.userId} AND product_id = ${productId}\n    `\n\n    if (existing.length === 0) {\n      // Add to wishlist\n      await sql`\n        INSERT INTO wishlist (user_id, product_id)\n        VALUES (${session.userId}, ${productId})\n      `\n    }\n\n    // Remove from cart\n    await sql`\n      DELETE FROM cart_items\n      WHERE id = ${cartItemId} AND user_id = ${session.userId}\n    `\n\n    revalidatePath(\"/cart\")\n    revalidatePath(\"/wishlist\")\n    return { success: true }\n  } catch (error) {\n    console.error(\"[v0] Move to wishlist error:\", error)\n    return { error: \"Failed to move item to wishlist\" }\n  }\n}\n\nexport async function isInWishlist(productId: number) {\n  try {\n    const session = await getSession()\n\n    if (!session) {\n      return false\n    }\n\n    const result = await sql`\n      SELECT 1 FROM wishlist\n      WHERE user_id = ${session.userId} AND product_id = ${productId}\n    `\n\n    return result.length > 0\n  } catch (error) {\n    console.error(\"[v0] Check wishlist error:\", error)\n    return false\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AACA;;;;;;AAEO,eAAe,cAAc,SAAiB;IACnD,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,+KAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,OAAO;YAA0C;QAC5D;QAEA,+BAA+B;QAC/B,MAAM,WAAW,MAAM,mKAAG,CAAC;;sBAET,EAAE,QAAQ,MAAM,CAAC,kBAAkB,EAAE,UAAU;IACjE,CAAC;QAED,IAAI,SAAS,MAAM,GAAG,GAAG;YACvB,OAAO;gBAAE,OAAO;YAA2B;QAC7C;QAEA,MAAM,mKAAG,CAAC;;cAEA,EAAE,QAAQ,MAAM,CAAC,EAAE,EAAE,UAAU;IACzC,CAAC;QAED,IAAA,kMAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO;YAAE,OAAO;QAAiC;IACnD;AACF;AAEO,eAAe,mBAAmB,SAAiB;IACxD,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,+KAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,OAAO;YAAiB;QACnC;QAEA,MAAM,mKAAG,CAAC;;sBAEQ,EAAE,QAAQ,MAAM,CAAC,kBAAkB,EAAE,UAAU;IACjE,CAAC;QAED,IAAA,kMAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oCAAoC;QAClD,OAAO;YAAE,OAAO;QAAwB;IAC1C;AACF;AAEO,eAAe,eAAe,UAAkB;IACrD,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,+KAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,OAAO;YAAiB;QACnC;QAEA,oBAAoB;QACpB,MAAM,WAAW,MAAM,mKAAG,CAAC;;iBAEd,EAAE,WAAW,eAAe,EAAE,QAAQ,MAAM,CAAC;IAC1D,CAAC;QAED,IAAI,SAAS,MAAM,KAAK,GAAG;YACzB,OAAO;gBAAE,OAAO;YAAsB;QACxC;QAEA,MAAM,YAAY,QAAQ,CAAC,EAAE,CAAC,UAAU;QAExC,+BAA+B;QAC/B,MAAM,WAAW,MAAM,mKAAG,CAAC;;sBAET,EAAE,QAAQ,MAAM,CAAC,kBAAkB,EAAE,UAAU;IACjE,CAAC;QAED,IAAI,SAAS,MAAM,KAAK,GAAG;YACzB,kBAAkB;YAClB,MAAM,mKAAG,CAAC;;gBAEA,EAAE,QAAQ,MAAM,CAAC,EAAE,EAAE,UAAU;MACzC,CAAC;QACH;QAEA,mBAAmB;QACnB,MAAM,mKAAG,CAAC;;iBAEG,EAAE,WAAW,eAAe,EAAE,QAAQ,MAAM,CAAC;IAC1D,CAAC;QAED,IAAA,kMAAc,EAAC;QACf,IAAA,kMAAc,EAAC;QACf,OAAO;YAAE,SAAS;QAAK;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gCAAgC;QAC9C,OAAO;YAAE,OAAO;QAAkC;IACpD;AACF;AAEO,eAAe,aAAa,SAAiB;IAClD,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,+KAAU;QAEhC,IAAI,CAAC,SAAS;YACZ,OAAO;QACT;QAEA,MAAM,SAAS,MAAM,mKAAG,CAAC;;sBAEP,EAAE,QAAQ,MAAM,CAAC,kBAAkB,EAAE,UAAU;IACjE,CAAC;QAED,OAAO,OAAO,MAAM,GAAG;IACzB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO;IACT;AACF;;;IAvHsB;IA+BA;IAqBA;IAiDA;;AArGA,kSAAA;AA+BA,kSAAA;AAqBA,kSAAA;AAiDA,kSAAA"}},
    {"offset": {"line": 287, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/krish/Downloads/nivara-e-commerce-website/.next-internal/server/app/shop/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {addToCart as '40782982aec62fbf296a0e16e0e4f49d5bb3544db2'} from 'ACTIONS_MODULE0'\nexport {addToWishlist as '40a5d7e1db75da22337bc312a529209a979df7abef'} from 'ACTIONS_MODULE1'\nexport {removeFromWishlist as '408a01e5e0c7feac8aaeaf388f9a3e64957cb61ea5'} from 'ACTIONS_MODULE1'\nexport {isInWishlist as '40c73a80c1abab106ecced40a81c8cd906e651416a'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AACA"}}]
}