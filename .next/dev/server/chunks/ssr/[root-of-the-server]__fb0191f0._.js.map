{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/krish/Downloads/nivara-e-commerce-website/components/cancel-order-button.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CancelOrderButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call CancelOrderButton() from the server but CancelOrderButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Downloads/nivara-e-commerce-website/components/cancel-order-button.tsx <module evaluation>\",\n    \"CancelOrderButton\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,oBAAoB,IAAA,2TAAuB,EACpD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,wGACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/krish/Downloads/nivara-e-commerce-website/components/cancel-order-button.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CancelOrderButton = registerClientReference(\n    function() { throw new Error(\"Attempted to call CancelOrderButton() from the server but CancelOrderButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/Downloads/nivara-e-commerce-website/components/cancel-order-button.tsx\",\n    \"CancelOrderButton\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,oBAAoB,IAAA,2TAAuB,EACpD;IAAa,MAAM,IAAI,MAAM;AAAkP,GAC/Q,oFACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/krish/Downloads/nivara-e-commerce-website/app/account/page.tsx"],"sourcesContent":["import { redirect } from 'next/navigation'\nimport { getSession } from \"@/lib/session\"\nimport { sql } from \"@/lib/db\"\nimport { Button } from \"@/components/ui/button\"\nimport Link from \"next/link\"\nimport { signOut } from \"@/app/actions/auth\"\nimport { formatPrice } from \"@/lib/utils\"\nimport { CancelOrderButton } from \"@/components/cancel-order-button\"\nimport { User } from 'lucide-react'\n\nexport const metadata = {\n  title: \"My Account | NIVARA\",\n  description: \"Manage your account and orders\",\n}\n\nexport default async function AccountPage() {\n  const session = await getSession()\n\n  if (!session) {\n    redirect(\"/login\")\n  }\n\n  const user = await sql`\n    SELECT * FROM users WHERE id = ${session.userId}\n  `\n\n  const orders = await sql`\n    SELECT * FROM orders \n    WHERE user_id = ${session.userId}\n    ORDER BY created_at DESC\n    LIMIT 5\n  `\n\n  return (\n    <div className=\"container px-4 py-12 animate-fadeIn\">\n      <h1 className=\"text-4xl font-serif tracking-tight mb-8\">My Account</h1>\n\n      <div className=\"grid md:grid-cols-3 gap-8\">\n        <div className=\"md:col-span-1\">\n          <div className=\"bg-card border rounded-lg p-6 space-y-4\">\n            <div>\n              <h2 className=\"text-xl font-semibold mb-2\">{user[0].full_name}</h2>\n              <p className=\"text-sm text-muted-foreground\">{user[0].email}</p>\n              {user[0].phone && <p className=\"text-sm text-muted-foreground\">{user[0].phone}</p>}\n            </div>\n\n            <div className=\"space-y-2\">\n              <Button variant=\"outline\" className=\"w-full justify-start\" asChild>\n                <Link href=\"/profile\">\n                  <User className=\"mr-2 h-4 w-4\" />\n                  Profile\n                </Link>\n              </Button>\n              \n              <form action={signOut}>\n                <Button type=\"submit\" variant=\"outline\" className=\"w-full bg-transparent\">\n                  Sign Out\n                </Button>\n              </form>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"md:col-span-2 space-y-6\">\n          <div className=\"bg-card border rounded-lg p-6\">\n            <div className=\"flex items-center justify-between mb-6\">\n              <h2 className=\"text-xl font-semibold\">Recent Orders</h2>\n              <Button variant=\"outline\" size=\"sm\" asChild>\n                <Link href=\"/orders\">View All</Link>\n              </Button>\n            </div>\n\n            {orders.length === 0 ? (\n              <p className=\"text-muted-foreground text-center py-8\">No orders yet</p>\n            ) : (\n              <div className=\"space-y-4\">\n                {orders.map((order: any) => (\n                  <div key={order.id} className=\"border rounded-lg p-4 hover:bg-accent transition-all hover:shadow-md\">\n                    <Link href={`/orders/${order.id}`} className=\"block\">\n                      <div className=\"flex justify-between items-start mb-2\">\n                        <div>\n                          <p className=\"font-medium\">{order.order_number}</p>\n                          <p className=\"text-sm text-muted-foreground\">\n                            {new Date(order.created_at).toLocaleDateString()}\n                          </p>\n                        </div>\n                        <div className=\"text-right\">\n                          <p className=\"font-semibold\">{formatPrice(Number.parseFloat(order.total_amount))}</p>\n                          <span\n                            className={`text-xs px-2 py-1 rounded ${\n                              order.status === \"delivered\"\n                                ? \"bg-green-100 text-green-800\"\n                                : order.status === \"cancelled\"\n                                  ? \"bg-red-100 text-red-800\"\n                                  : \"bg-yellow-100 text-yellow-800\"\n                            }`}\n                          >\n                            {order.status}\n                          </span>\n                        </div>\n                      </div>\n                    </Link>\n                    {(order.status === \"pending\" || order.status === \"processing\") && (\n                      <div className=\"mt-3 pt-3 border-t\">\n                        <CancelOrderButton orderId={order.id} />\n                      </div>\n                    )}\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}