module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},70864,a=>{a.n(a.i(33290))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},78787,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call CancelOrderButton() from the server but CancelOrderButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/cancel-order-button.tsx <module evaluation>","CancelOrderButton");a.s(["CancelOrderButton",0,b])},55353,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call CancelOrderButton() from the server but CancelOrderButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/components/cancel-order-button.tsx","CancelOrderButton");a.s(["CancelOrderButton",0,b])},65753,a=>{"use strict";a.i(78787);var b=a.i(55353);a.n(b)},14860,a=>{"use strict";var b=a.i(7997);a.i(70396);var c=a.i(73727),d=a.i(73478),e=a.i(66879),f=a.i(43917),g=a.i(95936),h=a.i(77728),i=a.i(82248),j=a.i(65753),k=a.i(40020);async function l(){let a=await (0,d.getSession)();a||(0,c.redirect)("/login");let l=await e.sql`
    SELECT * FROM users WHERE id = ${a.userId}
  `,m=await e.sql`
    SELECT * FROM orders 
    WHERE user_id = ${a.userId}
    ORDER BY created_at DESC
    LIMIT 5
  `;return(0,b.jsxs)("div",{className:"container px-4 py-12 animate-fadeIn",children:[(0,b.jsx)("h1",{className:"text-4xl font-serif tracking-tight mb-8",children:"My Account"}),(0,b.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,b.jsx)("div",{className:"md:col-span-1",children:(0,b.jsxs)("div",{className:"bg-card border rounded-lg p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-2",children:l[0].full_name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:l[0].email}),l[0].phone&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:l[0].phone})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(f.Button,{variant:"outline",className:"w-full justify-start",asChild:!0,children:(0,b.jsxs)(g.default,{href:"/profile",children:[(0,b.jsx)(k.User,{className:"mr-2 h-4 w-4"}),"Profile"]})}),(0,b.jsx)("form",{action:h.signOut,children:(0,b.jsx)(f.Button,{type:"submit",variant:"outline",className:"w-full bg-transparent",children:"Sign Out"})})]})]})}),(0,b.jsx)("div",{className:"md:col-span-2 space-y-6",children:(0,b.jsxs)("div",{className:"bg-card border rounded-lg p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"Recent Orders"}),(0,b.jsx)(f.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,b.jsx)(g.default,{href:"/orders",children:"View All"})})]}),0===m.length?(0,b.jsx)("p",{className:"text-muted-foreground text-center py-8",children:"No orders yet"}):(0,b.jsx)("div",{className:"space-y-4",children:m.map(a=>(0,b.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-accent transition-all hover:shadow-md",children:[(0,b.jsx)(g.default,{href:`/orders/${a.id}`,className:"block",children:(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.order_number}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(a.created_at).toLocaleDateString()})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"font-semibold",children:(0,i.formatPrice)(Number.parseFloat(a.total_amount))}),(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded ${"delivered"===a.status?"bg-green-100 text-green-800":"cancelled"===a.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a.status})]})]})}),("pending"===a.status||"processing"===a.status)&&(0,b.jsx)("div",{className:"mt-3 pt-3 border-t",children:(0,b.jsx)(j.CancelOrderButton,{orderId:a.id})})]},a.id))})]})})]})]})}a.s(["default",()=>l,"metadata",0,{title:"My Account | NIVARA",description:"Manage your account and orders"}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ae4ad0de._.js.map