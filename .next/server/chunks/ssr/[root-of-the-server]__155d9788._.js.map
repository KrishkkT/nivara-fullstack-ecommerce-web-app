{"version":3,"sources":["../../../../components/product-card.tsx/__nextjs-internal-proxy.mjs","../../../../components/shop-filters.tsx/__nextjs-internal-proxy.mjs","../../../../app/shop/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProductCard = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProductCard() from the server but ProductCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/product-card.tsx\",\n    \"ProductCard\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ShopFilters = registerClientReference(\n    function() { throw new Error(\"Attempted to call ShopFilters() from the server but ShopFilters is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/shop-filters.tsx\",\n    \"ShopFilters\",\n);\n","import { sql } from \"@/lib/db\"\nimport { ShopFilters } from \"@/components/shop-filters\"\nimport { ProductCard } from \"@/components/product-card\"\n\nexport const metadata = {\n  title: \"Shop All Products | NIVARA\",\n  description: \"Browse our complete collection of premium sterling silver jewellery\",\n}\n\nexport default async function ShopPage({\n  searchParams,\n}: {\n  searchParams: Promise<{ category?: string; sort?: string; minPrice?: string; maxPrice?: string }>\n}) {\n  const params = await searchParams\n  const { category, sort = \"newest\", minPrice, maxPrice } = params\n\n  let query = sql`\n    SELECT p.*, c.name as category_name, c.slug as category_slug\n    FROM products p\n    LEFT JOIN categories c ON p.category_id = c.id\n    WHERE p.is_active = true\n  `\n\n  // Category filter\n  if (category && category !== \"all\") {\n    query = sql`\n      SELECT p.*, c.name as category_name, c.slug as category_slug\n      FROM products p\n      LEFT JOIN categories c ON p.category_id = c.id\n      WHERE p.is_active = true AND c.slug = ${category}\n    `\n  }\n\n  // Get all products first\n  let products = await query\n\n  // Price filter\n  if (minPrice || maxPrice) {\n    products = products.filter((p: any) => {\n      const price = Number.parseFloat(p.price)\n      if (minPrice && price < Number.parseFloat(minPrice)) return false\n      if (maxPrice && price > Number.parseFloat(maxPrice)) return false\n      return true\n    })\n  }\n\n  // Sorting\n  if (sort === \"price-low\") {\n    products.sort((a: any, b: any) => Number.parseFloat(a.price) - Number.parseFloat(b.price))\n  } else if (sort === \"price-high\") {\n    products.sort((a: any, b: any) => Number.parseFloat(b.price) - Number.parseFloat(a.price))\n  } else if (sort === \"name\") {\n    products.sort((a: any, b: any) => a.name.localeCompare(b.name))\n  }\n\n  const categories = await sql`\n    SELECT * FROM categories \n    ORDER BY name\n  `\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-background to-muted/20\">\n      <div className=\"container px-4 py-16\">\n        <div className=\"text-center space-y-6 mb-16 animate-fade-in\">\n          <div className=\"inline-block px-4 py-2 bg-primary/10 rounded-full text-sm font-medium text-primary mb-4\">\n            Complete Collection\n          </div>\n          <h1 className=\"text-5xl md:text-6xl font-serif tracking-tight text-balance\">Handcrafted Excellence</h1>\n          <p className=\"text-xl text-muted-foreground max-w-2xl mx-auto text-pretty leading-relaxed\">\n            Discover our full range of premium sterling silver jewellery, each piece crafted with meticulous attention\n            to detail\n          </p>\n        </div>\n\n        <ShopFilters categories={categories} currentCategory={category} currentSort={sort} />\n\n        {products.length > 0 ? (\n          <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mt-8\">\n            {products.map((product: any, index: number) => (\n              <ProductCard key={product.id} product={product} index={index} />\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-20\">\n            <p className=\"text-muted-foreground text-lg\">No products found matching your filters.</p>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1]}