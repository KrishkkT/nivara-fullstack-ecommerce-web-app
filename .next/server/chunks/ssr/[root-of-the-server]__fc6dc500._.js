module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},92843,a=>{"use strict";var b=a.i(72131),c=a.i(72752),d=b[" useId ".trim().toString()]||(()=>void 0),e=0;function f(a){let[f,g]=b.useState(d());return(0,c.useLayoutEffect)(()=>{a||g(a=>a??String(e++))},[a]),a||(f?`radix-${f}`:"")}a.s(["useId",()=>f])},5522,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,type:d,...e}){return(0,b.jsx)("input",{type:d,"data-slot":"input",className:(0,c.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...e})}a.s(["Input",()=>d])},17171,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(35112);var d=a.i(11011),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(97895);let h=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(f,{ref:d,className:(0,g.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",a),...c}));h.displayName=f.displayName,a.s(["Label",()=>h],17171)},67453,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],67453)},28522,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40695),f=a.i(5522),g=a.i(17171),h=a.i(77687);function i({user:a}){let i=(0,d.useRouter)(),{toast:j}=(0,h.useToast)(),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)({full_name:a.full_name||"",email:a.email||"",phone:a.phone||""});async function o(a){a.preventDefault(),l(!0);try{if(!(await fetch("/api/profile/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok)throw Error("Failed to update profile");j({title:"Success",description:"Profile updated successfully"}),i.refresh()}catch(a){j({title:"Error",description:"Failed to update profile",variant:"destructive"})}finally{l(!1)}}return(0,b.jsxs)("form",{onSubmit:o,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"full_name",children:"Full Name"}),(0,b.jsx)(f.Input,{id:"full_name",value:m.full_name,onChange:a=>n({...m,full_name:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(f.Input,{id:"email",type:"email",value:m.email,disabled:!0,className:"bg-muted"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Email cannot be changed"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"phone",children:"Phone Number"}),(0,b.jsx)(f.Input,{id:"phone",type:"tel",value:m.phone,onChange:a=>n({...m,phone:a.target.value})})]}),(0,b.jsx)(e.Button,{type:"submit",disabled:k,children:k?"Updating...":"Update Profile"})]})}a.s(["ProfileForm",()=>i])},86104,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40695),f=a.i(5522),g=a.i(17171),h=a.i(77687),i=a.i(15618),j=a.i(81560);let k=(0,a.i(70106).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var l=a.i(67453),m=a.i(65733);function n({addresses:a,userId:n}){let o=(0,d.useRouter)(),{toast:p}=(0,h.useToast)(),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)({address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"India",is_default:!1});async function w(a){a.preventDefault(),t(!0);try{if(!(await fetch("/api/addresses/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})).ok)throw Error("Failed to add address");p({title:"Success",description:"Address added successfully"}),r(!1),v({address_line1:"",address_line2:"",city:"",state:"",postal_code:"",country:"India",is_default:!1}),o.refresh()}catch(a){p({title:"Error",description:"Failed to add address",variant:"destructive"})}finally{t(!1)}}async function x(a){if(confirm("Are you sure you want to delete this address?"))try{if(!(await fetch("/api/addresses/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addressId:a})})).ok)throw Error("Failed to delete address");p({title:"Success",description:"Address deleted successfully"}),o.refresh()}catch(a){p({title:"Error",description:"Failed to delete address",variant:"destructive"})}}async function y(a){try{if(!(await fetch("/api/addresses/set-default",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addressId:a})})).ok)throw Error("Failed to set default address");p({title:"Success",description:"Default address updated"}),o.refresh()}catch(a){p({title:"Error",description:"Failed to update default address",variant:"destructive"})}}return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)(m.Dialog,{open:q,onOpenChange:r,children:[(0,b.jsx)(m.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"outline",className:"w-full",children:[(0,b.jsx)(i.Plus,{className:"mr-2 h-4 w-4"}),"Add New Address"]})}),(0,b.jsxs)(m.DialogContent,{className:"max-w-md",children:[(0,b.jsxs)(m.DialogHeader,{children:[(0,b.jsx)(m.DialogTitle,{children:"Add New Address"}),(0,b.jsx)(m.DialogDescription,{children:"Add a delivery address for your orders"})]}),(0,b.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"address_line1",children:"Address Line 1"}),(0,b.jsx)(f.Input,{id:"address_line1",value:u.address_line1,onChange:a=>v({...u,address_line1:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"address_line2",children:"Address Line 2 (Optional)"}),(0,b.jsx)(f.Input,{id:"address_line2",value:u.address_line2,onChange:a=>v({...u,address_line2:a.target.value})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"city",children:"City"}),(0,b.jsx)(f.Input,{id:"city",value:u.city,onChange:a=>v({...u,city:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"state",children:"State"}),(0,b.jsx)(f.Input,{id:"state",value:u.state,onChange:a=>v({...u,state:a.target.value}),required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"postal_code",children:"Postal Code"}),(0,b.jsx)(f.Input,{id:"postal_code",value:u.postal_code,onChange:a=>v({...u,postal_code:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"is_default",checked:u.is_default,onChange:a=>v({...u,is_default:a.target.checked}),className:"rounded"}),(0,b.jsx)(g.Label,{htmlFor:"is_default",className:"cursor-pointer",children:"Set as default address"})]}),(0,b.jsx)(e.Button,{type:"submit",className:"w-full",disabled:s,children:s?"Adding...":"Add Address"})]})]})]}),0===a.length?(0,b.jsx)("p",{className:"text-center py-8 text-muted-foreground",children:"No addresses saved yet"}):(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,b.jsxs)("div",{className:`border rounded-lg p-4 ${a.is_default?"border-primary bg-primary/5":""}`,children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k,{className:"h-4 w-4 text-muted-foreground"}),a.is_default&&(0,b.jsxs)("span",{className:"text-xs bg-primary text-primary-foreground px-2 py-0.5 rounded-full flex items-center gap-1",children:[(0,b.jsx)(l.CheckCircle2,{className:"h-3 w-3"}),"Default"]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[!a.is_default&&(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>y(a.id),children:"Set Default"}),(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",onClick:()=>x(a.id),children:(0,b.jsx)(j.Trash2,{className:"h-4 w-4 text-destructive"})})]})]}),(0,b.jsxs)("div",{className:"text-sm space-y-0.5",children:[(0,b.jsx)("p",{children:a.address_line1}),a.address_line2&&(0,b.jsx)("p",{children:a.address_line2}),(0,b.jsxs)("p",{children:[a.city,", ",a.state," ",a.postal_code]}),(0,b.jsx)("p",{children:a.country})]})]},a.id))})]})}a.s(["AddressManager",()=>n],86104)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__fc6dc500._.js.map