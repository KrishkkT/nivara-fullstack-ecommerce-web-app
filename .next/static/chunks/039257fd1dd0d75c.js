(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23750,e=>{"use strict";var r=e.i(43476),t=e.i(47163);function s({className:e,type:s,...a}){return(0,r.jsx)("input",{type:s,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}e.s(["Input",()=>s])},7233,e=>{"use strict";let r=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],7233)},99023,e=>{"use strict";let r=(0,e.i(75254).default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>r],99023)},18566,(e,r,t)=>{r.exports=e.r(76562)},95187,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={callServer:function(){return i.callServer},createServerReference:function(){return l.createServerReference},findSourceMapURL:function(){return o.findSourceMapURL}};for(var a in s)Object.defineProperty(t,a,{enumerable:!0,get:s[a]});let i=e.r(32120),o=e.r(92245),l=e.r(35326)},24046,e=>{"use strict";var r=e.i(73560);e.s(["mutate",()=>r.j])},69724,42879,e=>{"use strict";var r=e.i(95187),t=(0,r.createServerReference)("4000a98622c3bd7838534c238d4593ca798a69456e",r.callServer,void 0,r.findSourceMapURL,"addToCart");e.s(["addToCart",()=>t],69724);var s=(0,r.createServerReference)("4038eb4d09ebc23cb5773f940e0512a07e99923015",r.callServer,void 0,r.findSourceMapURL,"removeFromWishlist");e.s(["removeFromWishlist",()=>s],42879)},12884,e=>{"use strict";var r=e.i(95187),t=(0,r.createServerReference)("408f14e84e2d921f7b530266bb9076850d808182ad",r.callServer,void 0,r.findSourceMapURL,"addToWishlist");e.s(["addToWishlist",()=>t])},21871,e=>{"use strict";var r=e.i(43476),t=e.i(22016),s=e.i(57688),a=e.i(47163),i=e.i(7233),o=e.i(99023),l=e.i(1928),d=e.i(90597),n=e.i(67881),c=e.i(71645),u=e.i(69724),m=e.i(12884),h=e.i(42879),p=e.i(95187),x=(0,p.createServerReference)("40083dab82c37eeb0a0fd825fc41793aa11806b167",p.callServer,void 0,p.findSourceMapURL,"isInWishlist"),g=e.i(18566),v=e.i(20682),f=e.i(24046);function b({product:e,index:p}){let b=(0,g.useRouter)(),{toast:j}=(0,v.useToast)(),[N,y]=(0,c.useState)(1),[w,S]=(0,c.useState)(!1),[P,C]=(0,c.useState)(!1),[R,M]=(0,c.useState)(!1),k=e.compare_at_price?Math.round((1-Number.parseFloat(e.price)/Number.parseFloat(e.compare_at_price))*100):0;async function T(r){r.preventDefault(),r.stopPropagation(),S(!0);let t=null;for(let r=0;r<N;r++)t=await (0,u.addToCart)(e.id);S(!1),t?.error?"Please sign in to add items to cart"===t.error?(j({title:"Sign in required",description:"Please sign in to add items to your cart",variant:"destructive"}),b.push("/login")):j({title:"Error",description:t.error,variant:"destructive"}):(j({title:"Added to cart!",description:`${e.name} (${N}) added to your cart`}),(0,f.mutate)("/api/cart/count"),b.refresh(),y(1))}async function $(r){r.preventDefault(),r.stopPropagation(),M(!0);let t=P?await (0,h.removeFromWishlist)(e.id):await (0,m.addToWishlist)(e.id);M(!1),t.error?t.error.includes("sign in")?(j({title:"Sign in required",description:"Please sign in to manage your wishlist",variant:"destructive"}),b.push("/login")):j({title:"Error",description:t.error,variant:"destructive"}):(C(!P),j({title:P?"Removed from wishlist":"Added to wishlist",description:P?`${e.name} removed from your wishlist`:`${e.name} added to your wishlist`}),(0,f.mutate)("/api/wishlist/count"))}return(0,c.useEffect)(()=>{x(e.id).then(C)},[e.id]),(0,r.jsxs)("div",{className:"group animate-fade-in",style:{animationDelay:`${.05*p}s`},children:[(0,r.jsx)(t.default,{href:`/products/${e.slug}`,children:(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-card border border-border/50 mb-4 shadow-sm hover:shadow-xl transition-all duration-500",children:[(0,r.jsxs)("div",{className:"aspect-square relative overflow-hidden bg-muted/30",children:[(0,r.jsx)(s.default,{src:e.image_url||"/placeholder.svg?height=400&width=400&query=premium silver jewellery",alt:e.name,fill:!0,className:"object-cover luxury-image-hover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 animate-shimmer"})]}),k>0&&(0,r.jsxs)("div",{className:"absolute top-3 right-3 bg-gradient-to-br from-rose-bronze to-primary text-white text-xs font-semibold px-3 py-1.5 rounded-full shadow-md backdrop-blur-sm",children:[k,"% OFF"]}),(0,r.jsx)("button",{onClick:$,disabled:R,className:"absolute top-3 left-3 bg-white/90 hover:bg-white p-2 rounded-full shadow-md transition-all hover:scale-110 disabled:opacity-50",children:(0,r.jsx)(d.Heart,{className:`h-4 w-4 transition-colors ${P?"fill-red-500 text-red-500":"text-muted-foreground"}`})}),(0,r.jsx)("div",{className:"absolute top-3 left-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),(0,r.jsxs)("div",{className:"space-y-3 px-1",children:[(0,r.jsxs)(t.default,{href:`/products/${e.slug}`,children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-wider text-muted-foreground font-medium",children:e.category_name}),(0,r.jsx)("h3",{className:"font-serif text-lg line-clamp-2 group-hover:text-primary transition-colors duration-300",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center gap-2 pt-1",children:[(0,r.jsx)("span",{className:"font-semibold text-lg",children:(0,a.formatPrice)(Number.parseFloat(e.price))}),e.compare_at_price&&(0,r.jsx)("span",{className:"text-sm text-muted-foreground line-through",children:(0,a.formatPrice)(Number.parseFloat(e.compare_at_price))})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,r.jsxs)("div",{className:"flex items-center border border-border rounded-lg overflow-hidden",children:[(0,r.jsx)(n.Button,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-none hover:bg-muted",onClick:function(e){e.preventDefault(),e.stopPropagation(),N>1&&y(e=>e-1)},disabled:N<=1,children:(0,r.jsx)(o.Minus,{className:"h-4 w-4"})}),(0,r.jsx)("div",{className:"w-10 text-center font-medium text-sm",children:N}),(0,r.jsx)(n.Button,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-none hover:bg-muted",onClick:function(e){e.preventDefault(),e.stopPropagation(),y(e=>e+1)},children:(0,r.jsx)(i.Plus,{className:"h-4 w-4"})})]}),(0,r.jsxs)(n.Button,{size:"sm",className:"flex-1 h-9 text-sm shadow-md hover:shadow-lg transition-all",onClick:T,disabled:w,children:[(0,r.jsx)(l.ShoppingCart,{className:"mr-1.5 h-4 w-4"}),w?"Adding...":"Add to Cart"]})]})]})]})}e.s(["ProductCard",()=>b],21871)},55436,e=>{"use strict";let r=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>r],55436)},72695,e=>{"use strict";var r=e.i(43476),t=e.i(71645),s=e.i(18566),a=e.i(55436),i=e.i(23750),o=e.i(67881),l=e.i(21871);function d({query:e,products:d}){let n=(0,s.useRouter)(),c=(0,s.useSearchParams)(),[u,m]=(0,t.useState)(e),[h,p]=(0,t.useState)(c.get("designNumber")||""),[x,g]=(0,t.useState)(c.get("minPrice")||""),[v,f]=(0,t.useState)(c.get("maxPrice")||"");return(0,r.jsx)("div",{className:"min-h-screen bg-background",children:(0,r.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"mb-6 text-3xl font-bold",children:"Search Products"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let r=new URLSearchParams;u.trim()&&r.set("q",u),h.trim()&&r.set("designNumber",h),x.trim()&&r.set("minPrice",x),v.trim()&&r.set("maxPrice",v);let t=r.toString();n.push(`/search${t?`?${t}`:""}`)},className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(a.Search,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-muted-foreground"}),(0,r.jsx)(i.Input,{type:"text",placeholder:"Search by name, description, category...",value:u,onChange:e=>m(e.target.value),className:"pl-10"})]}),(0,r.jsx)("div",{className:"relative",children:(0,r.jsx)(i.Input,{type:"text",placeholder:"Design Number",value:h,onChange:e=>p(e.target.value)})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Min Price (₹)"}),(0,r.jsx)(i.Input,{type:"number",placeholder:"Min Price",value:x,onChange:e=>g(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Max Price (₹)"}),(0,r.jsx)(i.Input,{type:"number",placeholder:"Max Price",value:v,onChange:e=>f(e.target.value)})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(o.Button,{type:"submit",children:"Search"}),(0,r.jsx)(o.Button,{type:"button",variant:"outline",onClick:()=>{m(""),p(""),g(""),f(""),n.push("/search")},children:"Clear Filters"})]})]})]}),(e||h||x||v)&&(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:d.length>0?`Found ${d.length} result${1===d.length?"":"s"}`:"No results found"})}),d.length>0?(0,r.jsx)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:d.map((e,t)=>(0,r.jsx)(l.ProductCard,{product:e,index:t},e.id))}):e||h||x||v?(0,r.jsxs)("div",{className:"rounded-lg border-2 border-dashed p-12 text-center",children:[(0,r.jsx)(a.Search,{className:"mx-auto mb-4 h-12 w-12 text-muted-foreground"}),(0,r.jsx)("h2",{className:"mb-2 text-xl font-semibold",children:"No products found"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Try adjusting your search terms or browse our categories"})]}):(0,r.jsxs)("div",{className:"rounded-lg border-2 border-dashed p-12 text-center",children:[(0,r.jsx)(a.Search,{className:"mx-auto mb-4 h-12 w-12 text-muted-foreground"}),(0,r.jsx)("h2",{className:"mb-2 text-xl font-semibold",children:"Start searching"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Enter a search term to find your perfect piece of jewellery"})]})]})})}e.s(["SearchResults",()=>d])}]);