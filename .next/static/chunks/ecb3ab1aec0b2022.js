(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7233,e=>{"use strict";let r=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],7233)},99023,e=>{"use strict";let r=(0,e.i(75254).default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>r],99023)},18566,(e,r,t)=>{r.exports=e.r(76562)},95187,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={callServer:function(){return s.callServer},createServerReference:function(){return d.createServerReference},findSourceMapURL:function(){return o.findSourceMapURL}};for(var a in i)Object.defineProperty(t,a,{enumerable:!0,get:i[a]});let s=e.r(32120),o=e.r(92245),d=e.r(35326)},24046,e=>{"use strict";var r=e.i(73560);e.s(["mutate",()=>r.j])},69724,42879,e=>{"use strict";var r=e.i(95187),t=(0,r.createServerReference)("4000a98622c3bd7838534c238d4593ca798a69456e",r.callServer,void 0,r.findSourceMapURL,"addToCart");e.s(["addToCart",()=>t],69724);var i=(0,r.createServerReference)("4038eb4d09ebc23cb5773f940e0512a07e99923015",r.callServer,void 0,r.findSourceMapURL,"removeFromWishlist");e.s(["removeFromWishlist",()=>i],42879)},12884,e=>{"use strict";var r=e.i(95187),t=(0,r.createServerReference)("408f14e84e2d921f7b530266bb9076850d808182ad",r.callServer,void 0,r.findSourceMapURL,"addToWishlist");e.s(["addToWishlist",()=>t])},21871,e=>{"use strict";var r=e.i(43476),t=e.i(22016),i=e.i(57688),a=e.i(47163),s=e.i(7233),o=e.i(99023),d=e.i(1928),n=e.i(90597),l=e.i(67881),c=e.i(71645),u=e.i(69724),m=e.i(12884),p=e.i(42879),h=e.i(95187),v=(0,h.createServerReference)("40083dab82c37eeb0a0fd825fc41793aa11806b167",h.callServer,void 0,h.findSourceMapURL,"isInWishlist"),f=e.i(18566),g=e.i(20682),x=e.i(24046);function b({product:e,index:h}){let b=(0,f.useRouter)(),{toast:j}=(0,g.useToast)(),[w,y]=(0,c.useState)(1),[N,S]=(0,c.useState)(!1),[P,R]=(0,c.useState)(!1),[M,C]=(0,c.useState)(!1),_=e.compare_at_price?Math.round((1-Number.parseFloat(e.price)/Number.parseFloat(e.compare_at_price))*100):0;async function T(r){r.preventDefault(),r.stopPropagation(),S(!0);let t=null;for(let r=0;r<w;r++)t=await (0,u.addToCart)(e.id);S(!1),t?.error?"Please sign in to add items to cart"===t.error?(j({title:"Sign in required",description:"Please sign in to add items to your cart",variant:"destructive"}),b.push("/login")):j({title:"Error",description:t.error,variant:"destructive"}):(j({title:"Added to cart!",description:`${e.name} (${w}) added to your cart`}),(0,x.mutate)("/api/cart/count"),b.refresh(),y(1))}async function k(r){r.preventDefault(),r.stopPropagation(),C(!0);let t=P?await (0,p.removeFromWishlist)(e.id):await (0,m.addToWishlist)(e.id);C(!1),t.error?t.error.includes("sign in")?(j({title:"Sign in required",description:"Please sign in to manage your wishlist",variant:"destructive"}),b.push("/login")):j({title:"Error",description:t.error,variant:"destructive"}):(R(!P),j({title:P?"Removed from wishlist":"Added to wishlist",description:P?`${e.name} removed from your wishlist`:`${e.name} added to your wishlist`}),(0,x.mutate)("/api/wishlist/count"))}return(0,c.useEffect)(()=>{v(e.id).then(R)},[e.id]),(0,r.jsxs)("div",{className:"group animate-fade-in",style:{animationDelay:`${.05*h}s`},children:[(0,r.jsx)(t.default,{href:`/products/${e.slug}`,children:(0,r.jsxs)("div",{className:"relative overflow-hidden rounded-xl bg-card border border-border/50 mb-4 shadow-sm hover:shadow-xl transition-all duration-500",children:[(0,r.jsxs)("div",{className:"aspect-square relative overflow-hidden bg-muted/30",children:[(0,r.jsx)(i.default,{src:e.image_url||"/placeholder.svg?height=400&width=400&query=premium silver jewellery",alt:e.name,fill:!0,className:"object-cover luxury-image-hover"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 animate-shimmer"})]}),_>0&&(0,r.jsxs)("div",{className:"absolute top-3 right-3 bg-gradient-to-br from-rose-bronze to-primary text-white text-xs font-semibold px-3 py-1.5 rounded-full shadow-md backdrop-blur-sm",children:[_,"% OFF"]}),(0,r.jsx)("button",{onClick:k,disabled:M,className:"absolute top-3 left-3 bg-white/90 hover:bg-white p-2 rounded-full shadow-md transition-all hover:scale-110 disabled:opacity-50",children:(0,r.jsx)(n.Heart,{className:`h-4 w-4 transition-colors ${P?"fill-red-500 text-red-500":"text-muted-foreground"}`})}),(0,r.jsx)("div",{className:"absolute top-3 left-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})}),(0,r.jsxs)("div",{className:"space-y-3 px-1",children:[(0,r.jsxs)(t.default,{href:`/products/${e.slug}`,children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-wider text-muted-foreground font-medium",children:e.category_name}),(0,r.jsx)("h3",{className:"font-serif text-lg line-clamp-2 group-hover:text-primary transition-colors duration-300",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center gap-2 pt-1",children:[(0,r.jsx)("span",{className:"font-semibold text-lg",children:(0,a.formatPrice)(Number.parseFloat(e.price))}),e.compare_at_price&&(0,r.jsx)("span",{className:"text-sm text-muted-foreground line-through",children:(0,a.formatPrice)(Number.parseFloat(e.compare_at_price))})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,r.jsxs)("div",{className:"flex items-center border border-border rounded-lg overflow-hidden",children:[(0,r.jsx)(l.Button,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-none hover:bg-muted",onClick:function(e){e.preventDefault(),e.stopPropagation(),w>1&&y(e=>e-1)},disabled:w<=1,children:(0,r.jsx)(o.Minus,{className:"h-4 w-4"})}),(0,r.jsx)("div",{className:"w-10 text-center font-medium text-sm",children:w}),(0,r.jsx)(l.Button,{variant:"ghost",size:"icon",className:"h-9 w-9 rounded-none hover:bg-muted",onClick:function(e){e.preventDefault(),e.stopPropagation(),y(e=>e+1)},children:(0,r.jsx)(s.Plus,{className:"h-4 w-4"})})]}),(0,r.jsxs)(l.Button,{size:"sm",className:"flex-1 h-9 text-sm shadow-md hover:shadow-lg transition-all",onClick:T,disabled:N,children:[(0,r.jsx)(d.ShoppingCart,{className:"mr-1.5 h-4 w-4"}),N?"Adding...":"Add to Cart"]})]})]})]})}e.s(["ProductCard",()=>b],21871)}]);